{% extends "base.html" %}

{% block title %}Create Graph{% endblock %}

{% block content %}
    <div class="jumbotron mt-5 text-center bg-primary text-white">
        <h1 class="display-4">Create Your Own Graph</h1>
        <p class="lead">Customize your data visualization by selecting the graph type and axes.</p>
    </div>

    <div class="card shadow-sm mb-5">
        <div class="card-header bg-secondary text-white">
            <h4 class="card-title">Graph Options</h4>
        </div>
        <div class="card-body">
            <form method="POST" class="mt-3 mb-5">
                <div class="form-group">
                    <label for="x_axis">Select X-axis:</label>
                    <select class="form-control" id="x_axis" name="x_axis">
                        {% for option in x_options %}
                            <option value="{{ option }}">{{ option }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="y_axis">Select Y-axis:</label>
                    <select class="form-control" id="y_axis" name="y_axis">
                        {% for option in y_options %}
                            <option value="{{ option }}">{{ option }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="graph_type">Select Graph Type:</label>
                    <select class="form-control" id="graph_type" name="graph_type">
                        <option value="bar">Bar Graph</option>
                        <option value="line">Line Graph</option>
                        <option value="scatter">Scatter Plot</option>
                    </select>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-lg btn-primary">Generate Graph</button>
                </div>
            </form>
        </div>
    </div>

    {% if plot_url %}
    <div class="text-center">
        <h2 class="mt-5">Generated Graph</h2>
        <img src="{{ plot_url }}" alt="User Generated Plot" class="img-fluid mt-3 shadow-lg">
    </div>
    {% endif %}

    <div class="text-center mt-4">
        <a href="{{ url_for('home') }}" class="btn btn-lg btn-secondary">Back to Home</a>
    </div>
{% endblock %}
